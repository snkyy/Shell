$ gmake
test -d obj || mkdir obj
test -d bin || mkdir bin
cc -Iinclude -c src/utils.c -o obj/utils.o
cc -Iinclude -c src/mshell.c -o obj/mshell.o
cc -Iinclude -c src/builtins.c -o obj/builtins.o
gmake -C input_parse INSTALL_DIR=/home/snkyy/shell/obj INC_DIR=/home/snkyy/shell/include
gmake[1]: Entering directory `/home/snkyy/shell/input_parse'
cc -I/home/snkyy/shell/include -c siparseutils.c
byacc -d siparse.y
byacc: 3 reduce/reduce conflicts.
cc -I/home/snkyy/shell/include y.tab.c -c 
lex  siparse.lex
cc -I/home/snkyy/shell/include lex.yy.c -c 
ar rcs /home/snkyy/shell/obj/siparse.a siparseutils.o lex.yy.o y.tab.o 
gmake[1]: Leaving directory `/home/snkyy/shell/input_parse'
cc -Iinclude obj/utils.o obj/mshell.o obj/builtins.o obj/siparse.a -o bin/mshell 
$ echo $?
0
$ cd ..
$ tar -xzf tests.tgz
$ cd tests
$ ./clean.sh
rm -f bin/*
removing test directory /tmp/snkyy.ShellTest
rm: /tmp/snkyy.ShellTest: no such file or directory
rm -f bin/*
Cleaning suite 1.
removing outputs
removing autogenerated expected outputs
rm -f bin/*
Cleaning suite 2.
removing outputs
removing autogenerated expected outputs
rm -f bin/*
Cleaning suite 3.
removing outputs
removing autogenerated expected outputs
rm -f bin/*
Cleaning suite 4.
removing outputs
removing autogenerated expected outputs
$ ./prepare.sh
building utils
cc -o bin/splitter src/splitter.c
cc -o bin/catcher src/catcher.c
cc -o bin/fdcounter src/fdcounter.c
cc -o bin/decho src/decho.c
cc -o bin/testerOX src/testerOX.c -lm
cc -o bin/tsleep src/testerOX.c -lm
creating test directory /tmp/snkyy.ShellTest
$ ./run_all.sh ~/shell/bin/mshell
--- Suite 1 ---
Test  1 : echo simple commands
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/1/input/1.in > /home/snkyy/tests/suites/1/output/1.out 2>/home/snkyy/tests/suites/1/output/1.err
OK
Test  2 : # empty lines
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/1/input/2.in > /home/snkyy/tests/suites/1/output/2.out 2>/home/snkyy/tests/suites/1/output/2.err
OK
Test  3 : # long file 
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/1/input/3.in > /home/snkyy/tests/suites/1/output/3.out 2>/home/snkyy/tests/suites/1/output/3.err
OK
Test  4 : # long lines
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/1/input/4.in > /home/snkyy/tests/suites/1/output/4.out 2>/home/snkyy/tests/suites/1/output/4.err
OK
Test  5 : # last line not ended with '\n'
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/1/input/5.in > /home/snkyy/tests/suites/1/output/5.out 2>/home/snkyy/tests/suites/1/output/5.err
OK
Test  6 : # exec errors
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/1/input/6.in > /home/snkyy/tests/suites/1/output/6.out 2>/home/snkyy/tests/suites/1/output/6.err
OK
Test  11 : echo simple commands + splitter
Command:specific see  /home/snkyy/tests/suites/1/exec/11.exec
OK
Test  12 : # empty lines + splitter
Command:specific see  /home/snkyy/tests/suites/1/exec/12.exec
OK
Test  13 : # long file + splitter
Command:specific see  /home/snkyy/tests/suites/1/exec/13.exec
OK
Test  14 : # long lines + splitter
Command:specific see  /home/snkyy/tests/suites/1/exec/14.exec
OK
Test  15 : # last line not ended with '\n' + splitter
Command:specific see  /home/snkyy/tests/suites/1/exec/15.exec
OK
Test  16 : # exec errors + splitter
Command:specific see  /home/snkyy/tests/suites/1/exec/16.exec
OK

--- Suite 2 ---
Test  1 : # builtin exit
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/2/input/1.in > /home/snkyy/tests/suites/2/output/1.out 2>/home/snkyy/tests/suites/2/output/1.err
OK
Test  2 : # builtin lcd
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/2/input/2.in > /home/snkyy/tests/suites/2/output/2.out 2>/home/snkyy/tests/suites/2/output/2.err
OK
Test  3 : # builtin lcd no arguments
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/2/input/3.in > /home/snkyy/tests/suites/2/output/3.out 2>/home/snkyy/tests/suites/2/output/3.err
OK
Test  4 : # builtin lls
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/2/input/4.in > /home/snkyy/tests/suites/2/output/4.out 2>/home/snkyy/tests/suites/2/output/4.err
OK
Test  5 : # builtin kill test 1
Command:specific see  /home/snkyy/tests/suites/2/exec/5.exec
OK
Test  6 : # builtin kill test 2
Command:specific see  /home/snkyy/tests/suites/2/exec/6.exec
OK
Test  7 : # reporting errors
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/2/input/7.in > /home/snkyy/tests/suites/2/output/7.out 2>/home/snkyy/tests/suites/2/output/7.err
OK

--- Suite 3 ---
Test  1 : # basic redirections
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/1.in > /home/snkyy/tests/suites/3/output/1.out 2>/home/snkyy/tests/suites/3/output/1.err
OK
Test  2 : # many redirections
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/2.in > /home/snkyy/tests/suites/3/output/2.out 2>/home/snkyy/tests/suites/3/output/2.err
OK
Test  3 : # redirections - counting used descriptors
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/3.in > /home/snkyy/tests/suites/3/output/3.out 2>/home/snkyy/tests/suites/3/output/3.err
OK
Test  4 : # redirection errors
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/4.in > /home/snkyy/tests/suites/3/output/4.out 2>/home/snkyy/tests/suites/3/output/4.err
OK
Test  5 : # simple pipes
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/5.in > /home/snkyy/tests/suites/3/output/5.out 2>/home/snkyy/tests/suites/3/output/5.err
OK
Test  6 : # pipes - counting used descriptors
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/6.in > /home/snkyy/tests/suites/3/output/6.out 2>/home/snkyy/tests/suites/3/output/6.err
OK
Test  7 : # multiple pipelines per line
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/3/input/7.in > /home/snkyy/tests/suites/3/output/7.out 2>/home/snkyy/tests/suites/3/output/7.err
OK

--- Suite 4 ---
Test  1 : # simple zombies
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/4/input/1.in > /home/snkyy/tests/suites/4/output/1.out 2>/home/snkyy/tests/suites/4/output/1.err
OK
Test  2 : # many zombies
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/4/input/2.in > /home/snkyy/tests/suites/4/output/2.out 2>/home/snkyy/tests/suites/4/output/2.err
OK
Test  3 : # zombies while waiting for foreground
Command:specific see  /home/snkyy/tests/suites/4/exec/3.exec
OK
Test  4 : # SIGINT and background
Command:/home/snkyy/shell/bin/mshell < /home/snkyy/tests/suites/4/input/4.in > /home/snkyy/tests/suites/4/output/4.out 2>/home/snkyy/tests/suites/4/output/4.err
OK

$ 
